webpackJsonp([5],{apsU:function(t,e){},mvHQ:function(t,e,n){t.exports={default:n("qkKv"),__esModule:!0}},qkKv:function(t,e,n){var o=n("FeBl"),a=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},sGmy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("mvHQ"),a=n.n(o),i=n("jkKj"),r=n.n(i),s=n("OOvn");var l={name:"baiduMap",mounted:function(){this.getAddressByBaidu()},data:function(){return{map:null,top_left_control:new r.a.ScaleControl({anchor:BMAP_ANCHOR_TOP_LEFT}),top_left_navigation:new r.a.NavigationControl,mapType1:new r.a.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP],anchor:BMAP_ANCHOR_BOTTOM_RIGHT}),overView:new r.a.OverviewMapControl,overViewOpen:new r.a.OverviewMapControl({isOpen:!0,anchor:BMAP_ANCHOR_BOTTOM_RIGHT})}},methods:{getAddressByBaidu:function(){var t=new r.a.Map("map-core");this.map=t;var e=new r.a.Point(116.331398,39.897445);t.centerAndZoom(e,12),t.enableScrollWheelZoom(!0),t.disableDragging(),setTimeout(function(){t.enableDragging()},2e3);(new r.a.Geolocation).getCurrentPosition(function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var n=new r.a.Marker(e.point);t.addOverlay(n),t.panTo(e.point),t.setZoom(14),document.getElementById("status").innerHTML="定位成功";var o=[];o.push("您的位置："+e.point.lng+","+e.point.lat),document.getElementById("result").innerHTML=o.join("<br>");var i={position:a()(e.point.lng+","+e.point.lat)};(l=i,Object(s.a)({url:"/addPosition",method:"post",data:l})).then(function(t){console.log(t)}).catch(function(t){})}else document.getElementById("status").innerHTML="定位失败",document.getElementById("result").innerHTML="失败原因排查信息:"+this.getStatus();var l},{enableHighAccuracy:!0});var n=new r.a.GeolocationControl;n.addEventListener("locationSuccess",function(t){}),n.addEventListener("locationError",function(t){alert(t.message)});var o=new r.a.Size(10,20);t.addControl(new r.a.CityListControl({anchor:BMAP_ANCHOR_TOP_RIGHT,offset:o})),t.addControl(n)},add_control:function(){this.map.addControl(this.top_left_control),this.map.addControl(this.top_left_navigation),this.map.addControl(this.mapType1),this.map.addControl(this.overView)},delete_control:function(){this.map.removeControl(this.top_left_control),this.map.removeControl(this.top_left_navigation),this.map.removeControl(this.mapType1),this.map.removeControl(this.overView)}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{display:"none"}},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",{attrs:{id:"r-result"}},[e("input",{attrs:{type:"button",value:"添加"},on:{click:this.add_control}}),this._v(" "),e("input",{attrs:{type:"button",value:"删除"},on:{click:this.delete_control}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"info"},[e("h4",{attrs:{id:"status"}}),e("hr"),this._v(" "),e("p",{attrs:{id:"result"}}),e("hr"),this._v(" "),e("p",[this._v("由于众多浏览器已不再支持非安全域的定位请求，为保位成功率和精度，请升级您的站点到HTTPS。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map"},[e("div",{attrs:{id:"map-core"}})])}]};var d=n("VU/8")(l,c,!1,function(t){n("apsU")},"data-v-7f480648",null);e.default=d.exports}});
//# sourceMappingURL=5.5608ee47eca0781387c7.js.map