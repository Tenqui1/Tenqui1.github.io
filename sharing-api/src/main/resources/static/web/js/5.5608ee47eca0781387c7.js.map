{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///src/views/BaiduMap.vue","webpack:///./src/api/address.js","webpack:///./src/views/BaiduMap.vue?4bbf","webpack:///./src/views/BaiduMap.vue"],"names":["module","exports","default","__webpack_require__","__esModule","core","$JSON","JSON","stringify","it","apply","arguments","BaiduMap","name","mounted","this","getAddressByBaidu","data","map","top_left_control","external__BMap__default","a","ScaleControl","anchor","BMAP_ANCHOR_TOP_LEFT","top_left_navigation","NavigationControl","mapType1","MapTypeControl","mapTypes","BMAP_NORMAL_MAP","BMAP_HYBRID_MAP","BMAP_ANCHOR_BOTTOM_RIGHT","overView","OverviewMapControl","overViewOpen","isOpen","methods","Map","point","Point","centerAndZoom","enableScrollWheelZoom","disableDragging","setTimeout","enableDragging","Geolocation","getCurrentPosition","r","getStatus","BMAP_STATUS_SUCCESS","mk","Marker","addOverlay","panTo","setZoom","document","getElementById","innerHTML","str","push","lng","lat","join","query","position","stringify_default","request","url","method","then","console","log","catch","error","enableHighAccuracy","geolocationControl","GeolocationControl","addEventListener","e","alert","message","size","Size","addControl","CityListControl","BMAP_ANCHOR_TOP_RIGHT","offset","add_control","delete_control","removeControl","views_BaiduMap","render","_h","$createElement","_c","_self","staticStyle","display","_m","_v","attrs","id","type","value","on","click","staticRenderFns","staticClass","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"web/js/5.5608ee47eca0781387c7.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 5","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 5","<template>\n  <div style=\"display: none\">\n    <div class=\"info\">\n      <h4 id='status'></h4><hr>\n      <p id='result'></p><hr>\n      <p >由于众多浏览器已不再支持非安全域的定位请求，为保位成功率和精度，请升级您的站点到HTTPS。</p>\n    </div>\n    <div class=\"map\">\n      <div id=\"map-core\"></div>\n    </div>\n    <div id=\"r-result\">\n      <input type=\"button\" @click=\"add_control\" value=\"添加\" />\n      <input type=\"button\" @click=\"delete_control\" value=\"删除\" />\n    </div>\n  </div>\n</template>\n\n<script>\n  import BMap from 'BMap'\n  import {addAddress} from '@/api/address'\n\n  export default {\n    name: 'baiduMap',\n    mounted() {\n      this.getAddressByBaidu();\n    },\n    data() {\n      return {\n        map:null,\n        /*缩放控件type有四种类型:\n        BMAP_NAVIGATION_CONTROL_SMALL：仅包含平移和缩放按钮；\n        BMAP_NAVIGATION_CONTROL_PAN:仅包含平移按钮；\n        BMAP_NAVIGATION_CONTROL_ZOOM：仅包含缩放按钮*/\n        top_left_control : new BMap.ScaleControl({anchor: BMAP_ANCHOR_TOP_LEFT}),// 左上角，添加比例尺\n        top_left_navigation : new BMap.NavigationControl(),  //左上角，添加默认缩放平移控件\n        mapType1 : new BMap.MapTypeControl(\n          {\n            mapTypes: [BMAP_NORMAL_MAP,BMAP_HYBRID_MAP],\n            anchor: BMAP_ANCHOR_BOTTOM_RIGHT\n          }\n        ),\n       overView : new BMap.OverviewMapControl(),\n       overViewOpen : new BMap.OverviewMapControl({isOpen:true, anchor: BMAP_ANCHOR_BOTTOM_RIGHT}),\n      }\n    },\n    methods: {\n      getAddressByBaidu(){\n        // 百度地图API功能\n        var map = new BMap.Map(\"map-core\");\n        this.map = map;\n        var point = new BMap.Point(116.331398,39.897445);\n        map.centerAndZoom(point,12);\n        map.enableScrollWheelZoom(true);//开启鼠标滚轮缩放\n        map.disableDragging();     //禁止拖拽\n        setTimeout(function(){\n          map.enableDragging();   //两秒后开启拖拽\n          //map.enableInertialDragging();   //两秒后开启惯性拖拽\n        }, 2000);\n        let that = this;\n        var geolocation = new BMap.Geolocation();\n        geolocation.getCurrentPosition(function(r){\n          if(this.getStatus() == BMAP_STATUS_SUCCESS){\n            var mk = new BMap.Marker(r.point);\n            map.addOverlay(mk);\n            map.panTo(r.point);\n            map.setZoom(14);\n            document.getElementById('status').innerHTML='定位成功';\n            var str = [];\n            str.push('您的位置：'+r.point.lng+','+r.point.lat);\n            document.getElementById('result').innerHTML = str.join('<br>');\n            let query = {position: JSON.stringify(r.point.lng+','+r.point.lat)};\n            addAddress(query).then((data) => {\n              console.log(data);\n            }).catch(error => {\n\n            })\n          } else {\n            document.getElementById('status').innerHTML='定位失败';\n            document.getElementById('result').innerHTML = '失败原因排查信息:'+this.getStatus();\n          }\n        },{enableHighAccuracy: true})\n        //关于状态码\n        //BMAP_STATUS_SUCCESS\t检索成功。对应数值“0”。\n        //BMAP_STATUS_CITY_LIST\t城市列表。对应数值“1”。\n        //BMAP_STATUS_UNKNOWN_LOCATION\t位置结果未知。对应数值“2”。\n        //BMAP_STATUS_UNKNOWN_ROUTE\t导航结果未知。对应数值“3”。\n        //BMAP_STATUS_INVALID_KEY\t非法密钥。对应数值“4”。\n        //BMAP_STATUS_INVALID_REQUEST\t非法请求。对应数值“5”。\n        //BMAP_STATUS_PERMISSION_DENIED\t没有权限。对应数值“6”。(自 1.1 新增)\n        //BMAP_STATUS_SERVICE_UNAVAILABLE\t服务不可用。对应数值“7”。(自 1.1 新增)\n        //BMAP_STATUS_TIMEOUT\t超时。对应数值“8”。(自 1.1 新增)\n\n\n        // 添加定位控件\n        var geolocationControl = new BMap.GeolocationControl();\n        geolocationControl.addEventListener(\"locationSuccess\", function(e){\n          // 定位成功事件\n          // var address = '';\n          // address += e.addressComponent.province;\n          // address += e.addressComponent.city;\n          // address += e.addressComponent.district;\n          // address += e.addressComponent.street;\n          // address += e.addressComponent.streetNumber;\n          // alert(\"当前定位地址为：\" + address);\n        });\n        geolocationControl.addEventListener(\"locationError\",function(e){\n          // 定位失败事件\n          alert(e.message);\n        });\n        var size = new BMap.Size(10, 20);\n        map.addControl(new BMap.CityListControl({\n          anchor: BMAP_ANCHOR_TOP_RIGHT,\n          offset: size,\n          // 切换城市之前事件\n          // onChangeBefore: function(){\n          //    alert('before');\n          // },\n          // 切换城市之后事件\n          // onChangeAfter:function(){\n          //   alert('after');\n          // }\n        }));\n        map.addControl(geolocationControl);\n      },\n      //添加控件和比例尺\n      add_control(){\n        this.map.addControl(this.top_left_control);\n        this.map.addControl(this.top_left_navigation);\n        this.map.addControl(this.mapType1);          //2D图，混合图\n        this.map.addControl(this.overView);          //添加默认缩略地图控件\n        // this.map.addControl(this.overViewOpen);      //右下角，打开\n      },\n      //移除控件和比例尺\n      delete_control(){\n        this.map.removeControl(this.top_left_control);\n        this.map.removeControl(this.top_left_navigation);\n        this.map.removeControl(this.mapType1);   //移除2D图，混合图\n        this.map.removeControl(this.overView);\n        // this.map.removeControl(this.overViewOpen);\n      },\n    },\n  }\n</script>\n<style scoped>\n  .map {\n    width: 1000px;\n    height: 500px;\n    font-size: 14px;\n  }\n  #map-core {\n    width: 100%;\n    height: 90%;\n  }\n  .info{\n    width:26rem;\n    padding: .75rem 1.25rem;\n    margin-bottom: 1rem;\n    border-radius: .25rem;\n    top: 1rem;\n    background-color: white;\n    min-width: 22rem;\n    border-width: 0;\n    box-shadow: 0 2px 6px 0 rgba(114, 124, 245, .5);\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/BaiduMap.vue","import request from '@/request'\n\n\nexport function addAddress(position) {\n  return request({\n    url: '/addPosition',\n    method: 'post',\n    data: position\n  })\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/address.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"r-result\"}},[_c('input',{attrs:{\"type\":\"button\",\"value\":\"添加\"},on:{\"click\":_vm.add_control}}),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"button\",\"value\":\"删除\"},on:{\"click\":_vm.delete_control}})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"info\"},[_c('h4',{attrs:{\"id\":\"status\"}}),_c('hr'),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"result\"}}),_c('hr'),_vm._v(\" \"),_c('p',[_vm._v(\"由于众多浏览器已不再支持非安全域的定位请求，为保位成功率和精度，请升级您的站点到HTTPS。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map\"},[_c('div',{attrs:{\"id\":\"map-core\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f480648\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/BaiduMap.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f480648\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BaiduMap.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BaiduMap.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BaiduMap.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f480648\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BaiduMap.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f480648\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/BaiduMap.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}